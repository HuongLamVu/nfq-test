(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){},34:function(e,t,a){},38:function(e,t,a){e.exports=a(67)},47:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),l=a.n(o),i=a(14),c=(a(47),a(18)),s=a(36),u=a.n(s),m=a(11),d=a(7),p="UPDATE_COLLECTION",h="TOGGLE_FAVORITE_COLLECTION",f="DELETE_COLLECTION_ITEM",v="UPDATE_FILTER_SORT",g="PAGE_GOTO",b="PAGE_FIRST",E="PAGE_LAST",O="PAGE_PREVIOUS",y="PAGE_NEXT",C="PAGE_SIZE",w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch((arguments.length>1?arguments[1]:void 0).type){case h:return Object(d.a)({},e,{favorite:!e.favorite});default:return e}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(d.a)({},e,Object(m.a)({},t.id,t.item));case h:return Object(d.a)({},e,Object(m.a)({},t.id,w(e[t.id],t)));case f:var a=Object(d.a)({},e);return delete a[t.id],a;default:return e}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{title:"",date:"",favorite:"",sort:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(d.a)({},e,Object(m.a)({},t.name,t.value));default:return e}},_={VIDEO:"video",IMAGE:"image",AUDIO:"audio"},N={FAVORITE:!0,UN_FAVORITE:!1},k={DATE:"date",TITLE:"title"},A=[{label:"Default",value:""},{label:"Title",value:k.TITLE},{label:"Date",value:k.DATE}],T=[{label:"All",value:""},{label:"Image",value:_.IMAGE},{label:"Video",value:_.VIDEO},{label:"Audio",value:_.AUDIO}],P=[{label:"All",value:""},{label:"Favorite",value:N.FAVORITE},{label:"Non favorite",value:N.UN_FAVORITE}],V=15,F="Item updated successfully",S="Item deleted successfully",D="./images/audio.jpg",x={currentPage:1,size:12},M=Object(c.b)({collection:j,filter:I,paging:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(d.a)({},e,{currentPage:t.currentPage});case y:return Object(d.a)({},e,{currentPage:e.currentPage+1});case O:return e.currentPage>1?Object(d.a)({},e,{currentPage:e.currentPage-1}):e;case v:case b:return Object(d.a)({},e,{currentPage:1});case E:return Object(d.a)({},e,{currentPage:0});case C:return Object(d.a)({},e,{size:t.size});default:return e}}}),R=(0,c.c)(u()("collection")),U=Object(c.d)(M,R),L=a(1),G=a(2),q=a(4),B=a(3),z=a(5),H=a(17),W=a(19),K=a(8),J=a.n(K),X=(a(52),function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).onClickBtn=function(){a.props.onClick&&a.props.onClick()},a}return Object(z.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this,t=this.props.props;return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement("button",{className:J()({btn:!0,"btn-primary":"primary"===t.type,"btn-secondary":"secondary"===t.type,"btn-danger":"danger"===t.type,"btn-default":!t.type||"default"===t.type,"btn-outline":"outline"===t.type,"btn-primary-color":"primary-color"===t.type,"btn--full-width":!!t.fullWidth}),onClick:function(){return e.onClickBtn()}},t.icon&&r.a.createElement("span",{className:"icon-".concat(t.icon)}),t.title&&r.a.createElement("span",{className:"btn__title"},t.title)))}}]),t}(n.Component)),Z=(a(53),function(e){function t(){return Object(L.a)(this,t),Object(q.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(z.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.source,n=a&&{backgroundImage:"url('".concat(a,"')")},o={thumbnail__img:!0,"thumbnail__img--audio":"audio"===t};return r.a.createElement("div",{className:"thumbnail"},r.a.createElement("div",{className:J()(o),style:n}),"video"===t&&r.a.createElement("span",{className:"thumbnail__play"},r.a.createElement("span",{className:"icon-play"})))}}]),t}(n.Component)),$=a(27),Q=a.n($);function Y(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:7;if(0===e)return[1];var r,o=(r=Math.ceil(e/t),Array.apply(null,{length:r}).map(Number.call,Number)).map(function(e){return e+1}),l=o.length+1,i=Math.floor(n/2),c=n-i;return a<c?o.slice(0,n):a>l-i?o.slice(l-n,l):o.slice(a-c,a+i)}function ee(e,t){return Math.ceil(e/t)}a(55);var te=function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).changeFavorite=function(e){a.props.toggleFavorite(e)},a.removeItem=function(e){a.props.removeItem(e)},a.editItem=function(e){a.props.editItem(e)},a.onAddItem=function(e){a.props.onAddItem(e)},a}return Object(z.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.data,o=a.isAddNew;return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"item__media"},r.a.createElement("a",{href:"#"},n.preview&&r.a.createElement(Z,{type:n.mediaType,source:n.preview}))),r.a.createElement("div",{className:"item__date"},r.a.createElement("span",null,(e=n.createdAt,Q()(e).format("ll")))),r.a.createElement("h3",{className:"item__title"},n.title),r.a.createElement("div",{className:"item__description"},n.description.length>175?"".concat(n.description.substr(0,175).trim(),"..."):n.description),r.a.createElement("div",{className:"item__buttons"},o?r.a.createElement(X,{props:{title:"Add to collection",icon:"add",type:"default",fullWidth:!0},onClick:function(){return t.onAddItem(n)}}):r.a.createElement(r.a.Fragment,null,r.a.createElement(X,{props:{title:"",icon:n.favorite?"heart-filled":"heart",type:"default"},onClick:function(){return t.changeFavorite(n.id)}}),r.a.createElement(X,{props:{title:"",icon:"trash-bin",type:"default"},onClick:function(){return t.removeItem(n.id)}}),r.a.createElement(X,{props:{icon:"pen",type:"default"},onClick:function(){return t.editItem(n.id)}})))))}}]),t}(n.Component),ae=(a(33),function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(q.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(o)))).state={filled:a.props.defaultValue||a.props.value,textInput:r.a.createRef(),value:a.props.defaultValue||a.props.value,inValid:!(a.props.defaultValue||a.props.value)},a.onChange=function(e){var t=a.state.filled,n=e.target.value,r=!!a.props.required&&""===n;!t&&n?a.setState({filled:!0,value:n,inValid:r}):""===n&&a.setState({filled:!1,value:n,inValid:r}),a.props.onChangeData&&a.props.onChangeData(e.target.name,n,r)},a.onKeyPress=function(e){13!==e.which&&13!==e.keyCode||a.props.onChange&&a.props.onChange(e.target.value)},a}return Object(z.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.type,n=t.defaultValue,o=t.label,l=t.placeHolder,i=t.name,c=t.value,s=t.required,u=t.showInvalidField,m=this.state,d=m.inValid,p=m.textInput,h={filled:this.state.filled||"date"===a,"form-element__input":!0,"form-element__input--textarea":"textarea"===a,"form-element__input--invalid":u&&d};return r.a.createElement("div",{className:"form-element"},"input"===a&&r.a.createElement("input",{className:J()(h),type:"text",defaultValue:n,placeholder:!o&&l?l:null,name:i,value:c,onChange:function(t){return e.onChange(t)},onKeyPress:function(t){return e.onKeyPress(t)},ref:this.state.textInput}),"textarea"===a&&r.a.createElement("textarea",{className:J()(h),name:i,type:"text",defaultValue:n,value:c,onChange:function(t){return e.onChange(t)}}),"date"===a&&r.a.createElement("input",{className:J()(h),type:"date",defaultValue:n,placeholder:!o&&l?l:null,name:i,value:c,onChange:function(t){return e.onChange(t)},onKeyPress:function(t){return e.onKeyPress(t)},ref:p}),o&&r.a.createElement("label",{className:"form-element__label",onClick:function(){return p.current.focus()}},o,s&&r.a.createElement("span",{className:"required"},"*")))}}]),t}(n.Component)),ne=function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).state={filled:!1,value:a.props.defaultValue||"",title:""},a.onChangeOption=function(e){var t=a.state.value;if(e.value!==t){a.setState({value:e.value,title:e.label});var n=a.props.name;a.props.onChangeData&&a.props.onChangeData(n,e.value)}},a}return Object(z.a)(t,e),Object(G.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.value,t=this.props.options.find(function(t){return t.value===e});t&&this.setState({title:t.label})}},{key:"render",value:function(){var e=this,t=this.props,a=t.options,n=t.label,o=t.name,l=this.state,i=l.value,c=l.title;return r.a.createElement("div",{className:"form-element"},r.a.createElement("input",{className:"hidden",type:"text",name:o,value:i,onChange:function(t){return e.onChange(t)}}),r.a.createElement("button",{className:J()({filled:!0,"form-element__input":!0})},c),r.a.createElement("ul",{className:"form-element__dropdown"},a.map(function(t,a){return r.a.createElement("li",{key:a,className:J()({active:i===t.value}),onMouseDown:function(){return e.onChangeOption(t)}},t.label)})),r.a.createElement("span",{className:"icon-dropdown"}),r.a.createElement("label",{className:"form-element__label"},n))}}]),t}(n.Component);var re=function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).state={type:"",date:"",favorite:"",sort:""},a.onChangeValue=function(e,t){var n=a.props.updateFilter;a.setState(Object(m.a)({},e,t)),n(e,t)},a}return Object(z.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.state,t=e.type,a=e.date,n=e.favorite,o=e.sort;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6 col-md-3"},r.a.createElement(ne,{options:T,label:"Type",name:"type",onChangeData:this.onChangeValue,value:t})),r.a.createElement("div",{className:"col-sm-6 col-md-3"},r.a.createElement(ae,{type:"date",label:"Date",name:"date",title:"Date",onChangeData:this.onChangeValue,value:a})),r.a.createElement("div",{className:"col-sm-6 col-md-3"},r.a.createElement(ne,{options:P,label:"Favorite",name:"favorite",onChangeData:this.onChangeValue,value:n})),r.a.createElement("div",{className:"col-sm-6 col-md-3"},r.a.createElement(ne,{options:A,label:"Sort By",name:"sort",onChangeData:this.onChangeValue,value:o})))}}]),t}(n.Component),oe=Object(i.b)(function(e){return{collection:e.collection,filter:e.filter}},function(e){return{updateFilter:function(t,a){return e(function(e,t){return{type:v,name:e,value:t}}(t,a))}}})(re),le=(a(34),[{label:"Video",value:"video"},{label:"Image",value:"image"},{label:"Audio",value:"audio"}]),ie=function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).onCloseModal=function(){a.props.onCloseModal(!1)},a.saveData=function(){a.props.saveData()},a.onChangeValue=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a.props.onChangeData(e,t,n)},a}return Object(z.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this,t={modal:!0,"modal-open":this.props.isOpen},a=this.props,n=a.data,o=a.modalTitle,l=a.buttonInfo,i=a.showInvalidField;return r.a.createElement("div",{className:J()(t),tabIndex:"-1",role:"dialog"},n&&r.a.createElement("div",{className:"modal-dialog modal-dialog--lg",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title"},o),r.a.createElement(X,{props:{icon:"close",type:"outline"},onClick:function(){return e.onCloseModal()}})),r.a.createElement("div",{className:"modal-body"},r.a.createElement(ae,{type:"input",defaultValue:n.title,label:"Title",name:"title",onChangeData:this.onChangeValue}),r.a.createElement(ae,{type:"textarea",defaultValue:n.description,label:"Description",name:"description",onChangeData:this.onChangeValue}),r.a.createElement(ne,{defaultValue:n.mediaType,label:"Type",options:le,name:"mediaType",onChangeData:this.onChangeValue}),r.a.createElement(ae,{type:"input",defaultValue:n.preview,required:!0,label:"Link preview image url",name:"preview",showInvalidField:i,onChangeData:this.onChangeValue}),r.a.createElement(ae,{type:"input",defaultValue:n.href,required:!0,label:"Link title url",name:"href",showInvalidField:i,onChangeData:this.onChangeValue})),r.a.createElement("div",{className:"modal-footer"},r.a.createElement(X,{props:l,onClick:this.saveData})))))}}]),t}(n.Component),ce=function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).onCloseModal=function(){a.props.onCloseModal()},a.removeItem=function(){a.props.removeItem()},a}return Object(z.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this,t={modal:!0,"modal-open":this.props.isOpen};return r.a.createElement("div",{className:J()(t),tabIndex:"-1",role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-sm",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement(X,{props:{icon:"close",type:"outline",title:""},onClick:function(){return e.onCloseModal()}})),r.a.createElement("div",{className:"modal-body"},r.a.createElement("h4",{className:"modal-body__title"},"Do you want to remove this item?")),r.a.createElement("div",{className:"modal-footer"},r.a.createElement(X,{props:{type:"danger",title:"Remove"},onClick:this.removeItem}),r.a.createElement(X,{props:{type:"default",title:"Cancel"},onClick:this.onCloseModal})))))}}]),t}(n.Component),se=(a(56),function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).gotoPage=function(e){a.props.gotoPage(e)},a}return Object(z.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.total,n=t.currentPage,o=t.pages,l=void 0===o?[]:o,i=t.lastPage,c=t.itemPerPage,s=void 0===c?0:c,u=(n-1)*s+1,m=Math.min(u+s-1,a),d={pagination:!0,"justify-content-end":a>0};return r.a.createElement("div",{className:J()(d)},r.a.createElement("div",{className:"pagination__wrapper"},a?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"pagination__desc"},"Showing item from ",u," - ",m," of ",a," item/s"),r.a.createElement("ul",{className:"pagination__number"},1!==n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"pagination__item"},r.a.createElement("a",{className:"pagination__link","aria-label":"First",href:"javascript:void(0)",onClick:function(){return e.gotoPage(1)}}," ","<<")),r.a.createElement("li",{className:"pagination__item"},r.a.createElement("a",{className:"pagination__link","aria-label":"Previous",href:"javascript:void(0)",onClick:function(){return e.gotoPage(n-1)}},"<"))),l&&l.map(function(t,a){return r.a.createElement("li",{className:J()({pagination__item:!0,active:t===n}),key:a},r.a.createElement("a",{className:"pagination__link",href:"javascript:void(0)",disabled:t===n,onClick:function(){return e.gotoPage(t)}},t))}),n!==i&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement("a",{className:"pagination__link",href:"javascript:void(0)",onClick:function(){return e.gotoPage(n+1)}},">")),r.a.createElement("li",null,r.a.createElement("a",{className:"pagination__link",href:"javascript:void(0)",onClick:function(){return e.gotoPage(i)}},">>"))))):r.a.createElement("p",{className:"pagination__desc"},"There no item to show")))}}]),t}(n.Component)),ue=(a(57),function(e){function t(){return Object(L.a)(this,t),Object(q.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(z.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.props.alertInfo,t={alert:!0,"alert--success":"success"===e.status,"alert--fail":"fail"===e.status,"alert--show":e.show};return r.a.createElement("div",{className:J()(t),role:"alert"},e.title)}}]),t}(n.Component));function me(e,t){return{type:p,id:e,item:t}}a(58);var de=function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).state={isOpenConfirm:!1,isOpen:!1,itemToUpdate:null,itemIdToRemove:null,inValidField:!1,showInvalidField:!1,show:!1,status:""},a.showConfirmToRemoveItem=function(e){a.setState({isOpenConfirm:!0,itemIdToRemove:e})},a.removeItem=function(){var e=a.props.removeItem,t=a.state.itemIdToRemove;a.setState({isOpenConfirm:!1,itemIdToRemove:null,status:"success",show:!0,title:S}),e(t),a.hideShowAlert()},a.editItemBeforeUpdate=function(e){a.setState({isOpen:!0,itemToUpdate:Object(d.a)({},e)})},a.onCloseModal=function(){a.setState({isOpen:!1,itemToUpdate:null})},a.onCloseConfirmModal=function(){a.setState({isOpenConfirm:!1,itemIdToRemove:null})},a.updateCollectionItem=function(){var e=a.props.updateItemToCollection,t=a.state,n=t.itemToUpdate,r=t.inValidField;r?a.setState({showInvalidField:r}):(e(Object(d.a)({},n)),a.setState({isOpen:!1,itemToUpdate:null,showInvalidField:!1,show:!0,status:"success",title:F}),a.hideShowAlert())},a.hideShowAlert=function(){var e=setTimeout(function(){a.setState({show:!1,success:""}),clearTimeout(e)},3e3)},a.onChangeValue=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=a.state.itemToUpdate;a.setState({itemToUpdate:Object(d.a)({},r,Object(m.a)({},e,t)),inValidField:n})},a}return Object(z.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.collection,n=t.toggleFavorite,o=t.total,l=t.paging,i=l.currentPage,c=l.size,s=t.gotoPage,u=this.state,m=u.isOpen,d=u.isOpenConfirm,p=u.itemToUpdate,h=u.showInvalidField,f=u.status,v=u.show,g=u.title,b=Y(o,c,i),E=ee(o,12),O={status:f,show:v,title:g};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"collection"},r.a.createElement("div",{className:"grid"},r.a.createElement("div",{className:"collection__header"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"collection__title"},"NASA Collection")),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement(H.b,{to:"/search-collection"},r.a.createElement(X,{props:{icon:"add",type:"primary",title:"Add new item"}}))))),r.a.createElement("div",{className:"collection__filter"},r.a.createElement(oe,null)),r.a.createElement(se,{total:o,pages:b,currentPage:i,lastPage:E,itemPerPage:12,gotoPage:s}),r.a.createElement("div",{className:"row"},a&&a.map(function(t){return r.a.createElement("div",{key:t.id,className:"col-md-4"},r.a.createElement(te,{data:t,toggleFavorite:n,removeItem:e.showConfirmToRemoveItem,editItem:function(){return e.editItemBeforeUpdate(t)}}))})))),r.a.createElement(ie,{onCloseModal:this.onCloseModal,isOpen:m,data:p,saveData:this.updateCollectionItem,onChangeData:this.onChangeValue,modalTitle:"Edit",buttonInfo:{icon:"check",title:"Save",type:"primary"},showInvalidField:h}),r.a.createElement(ce,{isOpen:d,onCloseModal:this.onCloseConfirmModal,removeItem:this.removeItem}),r.a.createElement(ue,{alertInfo:O}))}}]),t}(n.Component),pe=Object(i.b)(function(e){var t=e.collection,a=e.filter,n=e.paging;return Object(d.a)({},function(e,t,a){if(e=Object.keys(e).map(function(t){return e[t]}),a){if(a.date){var n=Q()(a.date);e=e.filter(function(e){return n.isSame(e.createdAt,"day")})}switch(a.type){case _.VIDEO:e=e.filter(function(e){return e.mediaType===_.VIDEO});break;case _.IMAGE:e=e.filter(function(e){return e.mediaType===_.IMAGE});break;case _.AUDIO:e=e.filter(function(e){return e.mediaType===_.AUDIO})}switch(a.favorite){case N.FAVORITE:e=e.filter(function(e){return e.favorite});break;case N.UN_FAVORITE:e=e.filter(function(e){return!e.favorite})}}var r=e.length;switch(a.sort){case k.TITLE:e.sort(function(e,t){return e.title.toLowerCase().localeCompare(t.title.toLowerCase())});break;case k.DATE:e.sort(function(e,t){return e.createdAt.toLowerCase().localeCompare(t.createdAt.toLowerCase())})}return t&&(e=e.slice((t.currentPage-1)*t.size,t.currentPage*t.size)),{collection:e,total:r}}(t,n,a),{paging:n,filter:a})},function(e){return{toggleFavorite:function(t){return e(function(e){return{type:h,id:e}}(t))},removeItem:function(t){return e(function(e){return{type:f,id:e}}(t))},updateItemToCollection:function(t){return e(me(t.id,t))},gotoPage:function(t){return e(function(e){return{type:g,currentPage:e}}(t))}}})(de),he=a(16),fe=a.n(he),ve=a(20),ge=a(30),be=a(29);function Ee(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(ve.a)(fe.a.mark(function e(t){var a,n,r,o=arguments;return fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o.length>1&&void 0!==o[1]?o[1]:1,t){e.next=3;break}return e.abrupt("return",{items:[]});case 3:return e.next=5,fetch("https://images-api.nasa.gov/search?q=".concat(encodeURIComponent(t)).concat(a<2?"":"&page=".concat(a)));case 5:return n=e.sent,e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",{items:r.collection.items.map(function(e){var t=e.href,a=Object(ge.a)(e.data,1)[0],n=a.nasa_id,r=a.title,o=a.media_type,l=a.date_created,i=a.description,c=e.links;return{id:n,href:t,title:r,description:i,mediaType:o,preview:c&&c.find(function(e){return"preview"===e.rel}).href||D,createdAt:l}}),totalHits:r.collection.metadata.total_hits});case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ye=function(){function e(t){Object(L.a)(this,e),this._items={},this._size=V,this._query=t}return Object(G.a)(e,[{key:"getPage",value:function(){var t=Object(ve.a)(fe.a.mark(function t(){var a,n,r,o,l,i,c,s,u,m,d,p,h,f=this,v=arguments;return fe.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=v.length>0&&void 0!==v[0]?v[0]:1,n=e.getPageNeeded(a,this._size),r=n.start,o=n.pages,l=!0,i=!1,c=void 0,t.prev=5,s=o[Symbol.iterator]();case 7:if(l=(u=s.next()).done){t.next=26;break}if(m=u.value,!this._items[m]){t.next=11;break}return t.abrupt("continue",23);case 11:if(!(this._count&&m>this._count/100+1)){t.next=15;break}t.t0=[],t.next=18;break;case 15:return t.next=17,Ee(this._query,m);case 17:t.t0=t.sent;case 18:d=t.t0,p=d.items,h=d.totalHits,this._count=this._count||Math.min(h,1e4),this._items[m]=p;case 23:l=!0,t.next=7;break;case 26:t.next=32;break;case 28:t.prev=28,t.t1=t.catch(5),i=!0,c=t.t1;case 32:t.prev=32,t.prev=33,l||null==s.return||s.return();case 35:if(t.prev=35,!i){t.next=38;break}throw c;case 38:return t.finish(35);case 39:return t.finish(32);case 40:return t.abrupt("return",{items:o.reduce(function(e,t){return[].concat(Object(be.a)(e),Object(be.a)(f._items[t]))},[]).slice(r,r+this._size),totalHits:this._count});case 41:case"end":return t.stop()}},t,this,[[5,28,32,40],[33,,35,39]])}));return function(){return t.apply(this,arguments)}}()}],[{key:"getPageNeeded",value:function(e,t){var a,n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,o=[~~((a=(e-1)*t)/(n=r)),a%n],l=Object(ge.a)(o,2),i=l[0],c=l[1],s=[i+1];return c>r-t&&s.push(i+2),{start:c,pages:s}}}]),e}(),Ce=(a(65),function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(q.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).state={resultItems:[],collectionItemToAdd:null,searching:!1,searchValue:"",totalHits:"",isOpen:!1,pages:[],currentPage:0,inValidField:!1,showInvalidField:!1,show:!1,status:"success"},a.searchData=function(){var e=Object(ve.a)(fe.a.mark(function e(t){return fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return a.setState({searchValue:t}),e.abrupt("return");case 3:return e.prev=3,a.setState({searching:!0,searchValue:t}),a.nasaSearchAdapter=new ye(t),e.next=8,a.gotoPage(1);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("Search false ",e.t0);case 13:case"end":return e.stop()}},e,null,[[3,10]])}));return function(t){return e.apply(this,arguments)}}(),a.gotoPage=function(){var e=Object(ve.a)(fe.a.mark(function e(t){var n,r,o,l;return fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.nasaSearchAdapter.getPage(t);case 3:n=e.sent,r=n.items,o=n.totalHits,l=Y(o,V,t),a.setState({searching:!1,resultItems:r,pages:l,currentPage:t,totalHits:o}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert("ERROR: ".concat(e.t0.message));case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),a.editBeforeAddItem=function(e){a.setState({collectionItemToAdd:e,isOpen:!0})},a.onCloseModal=function(){a.setState({isOpen:!1,collectionItemToAdd:null})},a.addCollectionItem=function(){var e=a.state,t=e.collectionItemToAdd,n=e.inValidField,r=a.props.addItemToCollection;n?a.setState({showInvalidField:n}):(r(t),a.setState({isOpen:!1,collectionItemToAdd:null,showInvalidField:!1,show:!0,status:"success"}),a.hideShowAlert())},a.hideShowAlert=function(){setTimeout(function(){a.setState({show:!1,success:""})},3e3)},a.onChangeValue=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object(d.a)({},a.state.collectionItemToAdd);r[e]=t,a.setState({collectionItemToAdd:r,inValidField:n})},a}return Object(z.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.resultItems,n=t.searching,o=t.searchValue,l=t.isOpen,i=t.totalHits,c=t.pages,s=t.currentPage,u=t.collectionItemToAdd,m=t.showInvalidField,d=t.status,p=t.show,h=ee(i,V),f={status:d,show:p,title:"success"===d?"Item added successfully":"fail"===d&&"Unable to add item"};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"grid"},r.a.createElement("div",{className:"search"},r.a.createElement("div",{className:"search__header"},r.a.createElement(H.b,{to:"/"},r.a.createElement(X,{props:{icon:"back",title:"Back to Collection",type:"primary-color"}})),r.a.createElement("div",{className:"search__title"},"Search From NASA"),r.a.createElement("div",{className:"search__input"},r.a.createElement(ae,{type:"input",placeHolder:"Type something to search...",onChange:this.searchData}))),r.a.createElement("div",{className:"search-result"},n&&r.a.createElement("p",{className:"search-result__searching"},"Searching..."),""!==i&&!n&&r.a.createElement("p",{className:"search-result__searching"},i,' result for "',o,'"'),i?r.a.createElement(se,{total:i,pages:c,currentPage:s,lastPage:h,itemPerPage:V,gotoPage:this.gotoPage}):"",r.a.createElement("div",{className:"row"},a&&a.map(function(t){return r.a.createElement("div",{key:t.id,className:"col-md-4"},r.a.createElement(te,{data:t,onAddItem:e.editBeforeAddItem,isAddNew:!0}))}))))),r.a.createElement(ie,{onCloseModal:this.onCloseModal,isOpen:l,data:u,saveData:this.addCollectionItem,onChangeData:this.onChangeValue,modalTitle:"Add to collection",buttonInfo:{icon:"check",title:"Add to collection",type:"primary"},showInvalidField:m}),r.a.createElement(ue,{alertInfo:f}))}}]),t}(n.Component)),we=Object(W.d)(Object(i.b)(function(e){return{collection:e.collection}},function(e){return{addItemToCollection:function(t){return e(me(t.id,t))}}})(Ce)),je=(a(66),function(e){function t(){return Object(L.a)(this,t),Object(q.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(z.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(H.a,{basename:"/nfq-test"},r.a.createElement(W.a,{exact:!0,path:"/",component:pe}),r.a.createElement(W.a,{path:"/search-collection",component:we})))}}]),t}(n.Component)),Ie=Object(i.b)(function(){return{}})(je),_e=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ne(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(r.a.createElement(i.a,{store:U},r.a.createElement(Ie,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/nfq-test",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/nfq-test","/service-worker.js");_e?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Ne(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):Ne(t,e)})}}()}},[[38,1,2]]]);
//# sourceMappingURL=main.bdd6ca23.chunk.js.map