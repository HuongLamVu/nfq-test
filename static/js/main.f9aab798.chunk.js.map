{"version":3,"sources":["actions/types.js","reducers/CollectionItem.js","reducers/Collection.js","reducers/Filter.js","libs/constant.js","reducers/Paging.js","reducers/index.js","store.js","commonComponents/ButtonComponent/Button.js","commonComponents/ThumbnailComponent/Thumbnail.js","libs/helpers.js","components/CollectionItemComponent/CollectionItem.js","commonComponents/InputComponent/Input.js","commonComponents/InputComponent/Dropdown.js","containers/FilterContainer/FilterContainer.js","actions/filterSort.js","components/ModalComponent/Modal.js","components/ModalComponent/ConfirmModal.js","commonComponents/PagingComponent/Paging.js","actions/collection.js","containers/CollectionContainer/CollectionContainer.js","actions/paging.js","libs/api.js","containers/SearchCollectionContainer/SearchContainer.js","App.js","serviceWorker.js","index.js"],"names":["UPDATE_COLLECTION","TOGGLE_FAVORITE_COLLECTION","DELETE_COLLECTION_ITEM","UPDATE_FILTER_SORT","PAGE_GOTO","PAGE_FIRST","PAGE_LAST","PAGE_PREVIOUS","PAGE_NEXT","PAGE_SIZE","collectionItem","arguments","length","undefined","type","Object","objectSpread","favorite","collection","action","defineProperty","id","item","collectionReducer","newCollection","filter","filterData","title","date","sort","name","value","mediaType","VIDEO","IMAGE","AUDIO","favoriteType","FAVORITE","UN_FAVORITE","sortBy","DATE","TITLE","sortOptions","label","typeOptions","favoriteOptions","ITEM_PER_PAGE_SEARCH","DEFAULT_PAGING","currentPage","size","combineReducers","paging","enhancer","composeEnhancers","compose","persistState","createStore","rootReducer","Button","onClickBtn","_this","props","onClick","_this2","this","react_default","a","createElement","Fragment","className","classNames","btn","btn-primary","btn-secondary","btn-danger","btn-default","btn-outline","btn-primary-color","btn--full-width","fullWidth","icon","concat","Component","Thumbnail","_this$props","source","style","backgroundImage","thumbnailClass","thumbnail__img","thumbnail__img--audio","generatePaging","total","page","max","n","pages","Math","ceil","Array","apply","map","Number","call","x","lastPage","after","floor","before","slice","getLastPage","itemPerPage","CollectionItem","changeFavorite","toggleFavorite","removeItem","editItem","onAddItem","data","isAddNew","href","preview","commonComponents_ThumbnailComponent_Thumbnail","createdAt","moment","format","description","commonComponents_ButtonComponent_Button","Input","state","filled","defaultValue","textInput","React","createRef","inValid","onChange","e","inputValue","target","required","setState","onChangeData","onKeyPress","which","keyCode","placeHolder","showInvalidField","inputClass","form-element__input","form-element__input--textarea","form-element__input--invalid","placeholder","ref","current","focus","Dropdown","onChangeOption","option","selectedOption","options","find","_this$state","index","key","active","onMouseDown","FilterContainer","onChangeValue","updateFilter","InputComponent_Dropdown","commonComponents_InputComponent_Input","connect","_ref","dispatch","Modal","onCloseModal","saveData","modalClass","modal","modal-open","isOpen","modalTitle","buttonInfo","tabIndex","role","ModalConfirm","Paging","gotoPage","_this$props$pages","_this$props$itemPerPa","firstShowing","lastShowing","min","pagingClass","pagination","justify-content-end","aria-label","pagination__item","disabled","updateCollectionItem","CollectionContainer","isOpenConfirm","itemToUpdate","itemIdToRemove","inValidField","showConfirmToRemoveItem","editItemBeforeUpdate","onCloseConfirmModal","updateItemToCollection","_this$props$paging","_this$state2","react_router_dom","to","containers_FilterContainer_FilterContainer","commonComponents_PagingComponent_Paging","components_CollectionItemComponent_CollectionItem","components_ModalComponent_Modal","ConfirmModal","keys","k","filterDate","isSame","b","toLowerCase","localeCompare","getCollection","toggleFavoriteCollectionItem","removeCollectionItem","searchNasa","_x","_searchNasa","_callee2","query","res","json","_args2","regenerator_default","wrap","_context2","prev","next","abrupt","items","fetch","encodeURIComponent","sent","_ref2","_ref2$data$","slicedToArray","nasa_id","media_type","date_created","links","rel","totalHits","metadata","total_hits","stop","NasaSearchPagingAdapter","classCallCheck","_items","_size","_query","createClass","_getPage","asyncToGenerator","mark","_callee","_NasaSearchPagingAdap","pageStart","pageNeeded","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","p","_args","_context","getPageNeeded","start","Symbol","iterator","done","_count","t0","t1","return","finish","reduce","toConsumableArray","nasaSize","_divMod","_divMod2","nasaPage","nasaPageStart","push","SearchContainer","resultItems","collectionItemToAdd","searching","searchValue","searchData","nasaSearchAdapter","console","log","_ref3","getPage","alert","message","editBeforeAddItem","addCollectionItem","addItemToCollection","withRouter","_ref4","App","basename","react_router","exact","path","component","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","ReactDOM","render","es","store","src_App_0","document","getElementById","URL","process","origin","addEventListener","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.f9aab798.chunk.js","sourcesContent":["export const UPDATE_COLLECTION = 'UPDATE_COLLECTION';\r\nexport const TOGGLE_FAVORITE_COLLECTION = 'TOGGLE_FAVORITE_COLLECTION';\r\nexport const DELETE_COLLECTION_ITEM = 'DELETE_COLLECTION_ITEM';\r\nexport const UPDATE_FILTER_SORT = 'UPDATE_FILTER_SORT';\r\n\r\nexport const PAGE_GOTO = 'PAGE_GOTO';\r\nexport const PAGE_FIRST = 'PAGE_FIRST';\r\nexport const PAGE_LAST = 'PAGE_LAST';\r\nexport const PAGE_PREVIOUS = 'PAGE_PREVIOUS';\r\nexport const PAGE_NEXT = 'PAGE_NEXT';\r\nexport const PAGE_SIZE = 'PAGE_SIZE';\r\n","import {TOGGLE_FAVORITE_COLLECTION} from \"../actions/types\";\r\n\r\nconst collectionItem = (collectionItem = {\r\n\r\n}, action) => {\r\n  switch (action.type) {\r\n    case TOGGLE_FAVORITE_COLLECTION:\r\n      return {\r\n        ...collectionItem,\r\n        favorite: !collectionItem.favorite,\r\n      };\r\n    default:\r\n      return collectionItem;\r\n  }\r\n};\r\n\r\nexport default collectionItem;","import {\r\n  UPDATE_COLLECTION,\r\n  TOGGLE_FAVORITE_COLLECTION,\r\n  DELETE_COLLECTION_ITEM,\r\n} from '../actions/types';\r\n\r\nimport collectionReducer from './CollectionItem';\r\n\r\nconst collection = (collection = {}, action) => {\r\n  switch (action.type) {\r\n    case UPDATE_COLLECTION:\r\n      return {\r\n        ...collection,\r\n        [action.id]: action.item\r\n      };\r\n    case TOGGLE_FAVORITE_COLLECTION:\r\n      return {\r\n        ...collection,\r\n        [action.id]: collectionReducer(collection[action.id], action),\r\n      };\r\n    case DELETE_COLLECTION_ITEM:\r\n      let newCollection = {...collection};\r\n      delete newCollection[action.id];\r\n\r\n      return newCollection;\r\n    default:\r\n      return collection;\r\n  }\r\n};\r\n\r\nexport default collection;\r\n","import { UPDATE_FILTER_SORT } from '../actions/types';\r\nconst filter = (\r\n  filterData = {\r\n    title: '',\r\n    date: '',\r\n    favorite: '',\r\n    sort: '',\r\n  }, action) => {\r\n  switch (action.type) {\r\n    case UPDATE_FILTER_SORT:\r\n      return {\r\n        ...filterData,\r\n        [action.name]: action.value,\r\n      };\r\n    default:\r\n      return filterData;\r\n  }\r\n};\r\n\r\nexport default filter;","export const mediaType = {\r\n  VIDEO: 'video',\r\n  IMAGE: 'image',\r\n  AUDIO: 'audio',\r\n};\r\n\r\nexport const favoriteType = {\r\n  FAVORITE: true,\r\n  UN_FAVORITE: false,\r\n};\r\n\r\nexport const sortBy = {\r\n  DATE: 'date',\r\n  TITLE: 'title',\r\n};\r\n\r\nconst EMPTY = '';\r\n\r\nexport const sortOptions = [\r\n  {\r\n    label: 'Default',\r\n    value: EMPTY,\r\n  },{\r\n    label: 'Title',\r\n    value: sortBy.TITLE,\r\n  }, {\r\n    label: 'Date',\r\n    value: sortBy.DATE,\r\n  }\r\n];\r\n\r\nexport const typeOptions = [\r\n  {\r\n    label: 'All',\r\n    value: EMPTY\r\n  }, {\r\n    label: 'Image',\r\n    value: mediaType.IMAGE,\r\n  }, {\r\n    label: 'Video',\r\n    value: mediaType.VIDEO,\r\n  }, {\r\n    label: 'Audio',\r\n    value:  mediaType.AUDIO,\r\n  }\r\n];\r\n\r\nexport const favoriteOptions = [\r\n  {\r\n    label: 'All',\r\n    value: EMPTY,\r\n  }, {\r\n    label: 'Favorite',\r\n    value: favoriteType.FAVORITE,\r\n  }, {\r\n    label: 'Non favorite',\r\n    value: favoriteType.UN_FAVORITE,\r\n  }\r\n];\r\n\r\nexport const ITEM_PER_PAGE = 12;\r\nexport const ITEM_PER_PAGE_SEARCH = 15;\r\nexport const MAX_TOTAL_PAGE = 10000;","import {\r\n  UPDATE_FILTER_SORT,\r\n  PAGE_FIRST, PAGE_LAST,\r\n  PAGE_GOTO,\r\n  PAGE_PREVIOUS, PAGE_NEXT,\r\n  PAGE_SIZE,\r\n} from '../actions/types';\r\n\r\nimport { ITEM_PER_PAGE } from '../libs/constant';\r\n\r\nconst DEFAULT_PAGING = {\r\n  currentPage: 1,\r\n  size: ITEM_PER_PAGE,\r\n};\r\n\r\nexport default (paging = DEFAULT_PAGING, action) => {\r\n  switch (action.type) {\r\n    case PAGE_GOTO:\r\n      return {\r\n        ...paging,\r\n        currentPage: action.currentPage,\r\n      };\r\n    case PAGE_NEXT:\r\n      return {\r\n        ...paging,\r\n        currentPage: paging.currentPage + 1,\r\n      };\r\n    case PAGE_PREVIOUS:\r\n      return paging.currentPage > 1 ? {\r\n        ...paging,\r\n        currentPage: paging.currentPage - 1,\r\n      } : paging;\r\n    case UPDATE_FILTER_SORT:\r\n    case PAGE_FIRST:\r\n      return {\r\n        ...paging,\r\n        currentPage: 1,\r\n      };\r\n    case PAGE_LAST:\r\n      return {\r\n        ...paging,\r\n        currentPage: 0, // TODO go to last page using Redux\r\n      };\r\n    case PAGE_SIZE:\r\n      return {\r\n        ...paging,\r\n        size: action.size,\r\n      };\r\n    default:\r\n      return paging;\r\n  }\r\n}\r\n","import {combineReducers} from 'redux';\r\n\r\nimport collection from './Collection';\r\nimport filter from './Filter';\r\nimport paging from './Paging';\r\n\r\nexport default combineReducers({\r\n  collection,\r\n  filter,\r\n  paging,\r\n});\r\n","import {compose, createStore} from 'redux';\r\nimport persistState from 'redux-localstorage'\r\n\r\nimport rootReducer from './reducers';\r\n\r\nconst composeEnhancers = (process.env.NODE_ENV === \"development\" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__)\r\n  || compose;\r\n\r\nconst enhancer = composeEnhancers(\r\n  persistState('collection', /*config*/),\r\n);\r\n\r\nexport default createStore(\r\n  rootReducer,\r\n  enhancer\r\n);\r\n\r\n","import React, { Component } from 'react';\r\nimport classNames from 'classnames';\r\n\r\nimport './Button.scss';\r\n\r\nclass Button extends Component {\r\n\r\n  onClickBtn = () => {\r\n    this.props.onClick && this.props.onClick();\r\n  }\r\n\r\n  render() {\r\n    const  { props } = this.props;\r\n    return (\r\n      <>\r\n      {\r\n        props &&  <button className={\r\n          classNames({\r\n            'btn': true,\r\n            'btn-primary': props.type === 'primary',\r\n            'btn-secondary': props.type === 'secondary',\r\n            'btn-danger': props.type === 'danger',\r\n            'btn-default': !props.type || props.type === 'default',\r\n            'btn-outline': props.type === 'outline',\r\n            'btn-primary-color': props.type === 'primary-color',\r\n            'btn--full-width': !!props.fullWidth\r\n          })\r\n        }\r\n          onClick={() => this.onClickBtn()}>\r\n        {props.icon && <span className={`icon-${props.icon}`}></span>}\r\n        {\r\n          props.title && <span className=\"btn__title\">{props.title}</span>\r\n        }\r\n        </button>\r\n      }\r\n      </>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nexport default Button;","import React, { Component } from 'react';\r\nimport classNames from 'classnames';\r\n\r\nimport './Thumbnail.scss';\r\n\r\nclass Thumbnail extends Component {\r\n\r\n  render() {\r\n    const { type, source } = this.props;\r\n    const style = source && {\r\n      'backgroundImage': `url('${source}')`,\r\n    };\r\n\r\n    const thumbnailClass = {\r\n      'thumbnail__img': true,\r\n      'thumbnail__img--audio': type === 'audio',\r\n    };\r\n\r\n    return (\r\n      <div className=\"thumbnail\">\r\n        <div className={classNames(thumbnailClass)} style={style} />\r\n        {type === 'video' && <span className=\"thumbnail__play\">\r\n          <span className=\"icon-play\"></span>\r\n        </span>}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Thumbnail;\r\n\r\n","import moment from 'moment';\r\n\r\nimport { mediaType, favoriteType, sortBy } from './constant';\r\n\r\nexport function formatDate(date) {\r\n  return moment(date).format('ll');\r\n}\r\n\r\nexport function debounce(func, delay) {\r\n  let handler;\r\n  return function (...args) {\r\n    clearTimeout(handler);\r\n    handler = setTimeout(() => func(...args), delay);\r\n  }\r\n}\r\n\r\nexport function getCollection(collection, paging, filter) {\r\n  collection = Object.keys(collection).map(k => collection[k]);\r\n  if (filter) {\r\n    if (filter.date) {\r\n      const filterDate = moment(filter.date);\r\n      collection = collection.filter((item) => filterDate.isSame(item.createdAt, 'day'));\r\n    }\r\n\r\n    switch (filter.type) {\r\n      case mediaType.VIDEO:\r\n        collection = collection.filter((item) => item.mediaType === 'video');\r\n        break;\r\n      case mediaType.IMAGE:\r\n        collection = collection.filter((item) => item.mediaType === 'image');\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    switch (filter.favorite) {\r\n      case favoriteType.FAVORITE:\r\n        collection = collection.filter((item) => item.favorite);\r\n        break;\r\n      case favoriteType.UN_FAVORITE:\r\n        collection = collection.filter((item) => !item.favorite);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  const total = collection.length;\r\n\r\n    switch (filter.sort) {\r\n      case sortBy.TITLE:\r\n        collection.sort((a, b) => a.title.toLowerCase().localeCompare(b.title.toLowerCase()));\r\n        break;\r\n      case sortBy.DATE:\r\n        collection.sort((a, b) => a.createdAt.toLowerCase().localeCompare(b.createdAt.toLowerCase()));\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n  if (paging) {\r\n    collection = collection.slice((paging.currentPage - 1) * paging.size, paging.currentPage * paging.size);\r\n  }\r\n  return {\r\n    collection,\r\n    total,\r\n  };\r\n}\r\n\r\nexport function arrayFromTo(n) {\r\n  return Array.apply(null, {length: n}).map(Number.call, Number)\r\n}\r\n\r\nexport function generatePaging(total, size, page, max = 7) {\r\n  if (total === 0) {\r\n    return [1];\r\n  }\r\n\r\n  const pages = arrayFromTo(Math.ceil(total / size)).map(x => x + 1);\r\n  const lastPage = pages.length + 1;\r\n\r\n  const after = Math.floor(max / 2);\r\n  const before = max - after;\r\n\r\n  if (page < before) {\r\n    return pages.slice(0, max);\r\n  }\r\n\r\n  if (page > lastPage - after) {\r\n    return pages.slice(lastPage - max, lastPage);\r\n  }\r\n\r\n  return pages.slice(page - before, page + after);\r\n}\r\n\r\nexport function divMod(a, b) {\r\n  return [~~(a / b), a % b];\r\n}\r\n\r\nexport function getLastPage(total, itemPerPage) {\r\n  return Math.ceil(total / itemPerPage);\r\n}","import React, { Component } from \"react\";\r\n\r\nimport Button from '../../commonComponents/ButtonComponent/Button';\r\nimport Thumbnail from \"../../commonComponents/ThumbnailComponent/Thumbnail\";\r\n\r\nimport { formatDate } from \"../../libs/helpers\";\r\n\r\nimport './CollectionItem.scss';\r\n\r\nclass CollectionItem extends Component {\r\n\r\n  changeFavorite = (id) => {\r\n    this.props.toggleFavorite(id);\r\n  };\r\n\r\n  removeItem= (id) => {\r\n    this.props.removeItem(id);\r\n  };\r\n\r\n  editItem= (id) => {\r\n    this.props.editItem(id);\r\n  };\r\n\r\n  onAddItem = (data) => {\r\n    this.props.onAddItem(data);\r\n  };\r\n\r\n  render() {\r\n    const { data, isAddNew } = this.props;\r\n    return (\r\n      <>\r\n      {\r\n        data && <div className=\"item\">\r\n        <div className=\"item__media\">\r\n          <a href=\"#\">\r\n            {\r\n              data.preview && <Thumbnail type={data.mediaType} source={data.preview}></Thumbnail>\r\n            }\r\n          </a>\r\n        </div>\r\n        {/* <p className=\"item__author\">\r\n\r\n        </p> */}\r\n        <div className=\"item__date\">\r\n        <span>{formatDate(data.createdAt)}</span>\r\n        </div>\r\n        <h3 className=\"item__title\">{data.title}</h3>\r\n        <div className=\"item__description\">{data.description}</div>\r\n        <div className=\"item__buttons\">\r\n          {\r\n            isAddNew ? \r\n              <Button props={{title: \"Add to collection\", icon:'add', type: \"default\", fullWidth: true}}\r\n              onClick={() => this.onAddItem(data)}/>\r\n            :\r\n            <>\r\n              <Button\r\n                props={{title: \"\", icon: data.favorite ? 'heart-filled': 'heart', type:\"default\"}}\r\n                onClick={() => this.changeFavorite(data.id)}/>\r\n              <Button\r\n                props={{title:\"\", icon:\"trash-bin\", type:\"default\"}}\r\n                onClick={() => this.removeItem(data.id)}/>\r\n              <Button\r\n                props={{icon:\"pen\", type:\"default\"}}\r\n                onClick={() => this.editItem(data.id)}/>\r\n            </>\r\n          }\r\n        </div>\r\n      </div>\r\n      }\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CollectionItem;","import React, { Component } from 'react';\r\nimport classNames from 'classnames';\r\n\r\nimport './Input.scss';\r\n\r\nclass Input extends Component {\r\n  state = {\r\n    filled: this.props.defaultValue || this.props.value,\r\n    textInput: React.createRef(),\r\n    value: this.props.defaultValue || this.props.value,\r\n    inValid: require && !(this.props.defaultValue || this.props.value),\r\n  };\r\n\r\n\r\n  onChange = (e) => {\r\n    const { filled } = this.state;\r\n    const inputValue = e.target.value;\r\n    const { required } = this.props;\r\n\r\n    const inValid = required ? (inputValue === ''): false;\r\n    if (!filled && inputValue) {\r\n      this.setState({\r\n        filled: true,\r\n        value: inputValue,\r\n        inValid,\r\n      });\r\n    } else if (inputValue === '') {\r\n      this.setState({\r\n        filled: false,\r\n        value: inputValue,\r\n        inValid,\r\n      });\r\n    }\r\n    this.props.onChangeData && this.props.onChangeData(e.target.name, inputValue, inValid);\r\n  };\r\n\r\n  onKeyPress = (e) => {\r\n    if (e.which === 13 || e.keyCode === 13) {\r\n      this.props.onChange && this.props.onChange(e.target.value);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { type, defaultValue, label, placeHolder, name, value, required, showInvalidField } = this.props;\r\n    const { inValid } = this.state;\r\n\r\n    const inputClass = {\r\n      filled: this.state.filled || type === 'date',\r\n      'form-element__input': true,\r\n      'form-element__input--textarea': type === 'textarea',\r\n      'form-element__input--invalid': showInvalidField && inValid,\r\n    };\r\n    return (\r\n      <div className=\"form-element\">\r\n        {\r\n          type === 'input'\r\n          && <input className={classNames(inputClass)}\r\n            type=\"text\"\r\n            defaultValue={defaultValue}\r\n            placeholder={(!label && placeHolder) ? placeHolder : null}\r\n            name={name}\r\n            value={value}\r\n            onChange={(e) => this.onChange(e)}\r\n            onKeyPress={(e) => this.onKeyPress(e)}\r\n            ref={this.state.textInput} />\r\n        }\r\n        {\r\n          type === 'textarea'\r\n          && <textarea\r\n            className={classNames(inputClass)}\r\n            name={name} type=\"text\"\r\n            defaultValue={defaultValue}\r\n            value={value}\r\n            onChange={(e) => this.onChange(e)}>\r\n          </textarea>\r\n        }\r\n\r\n        {\r\n          type === 'date'\r\n          && <input className={classNames(inputClass)}\r\n            type=\"date\"\r\n            defaultValue={defaultValue}\r\n            placeholder={(!label && placeHolder) ? placeHolder : null}\r\n            name={name}\r\n            value={value}\r\n            onChange={(e) => this.onChange(e)}\r\n            onKeyPress={(e) => this.onKeyPress(e)}\r\n            ref={this.state.textInput} />\r\n        }\r\n\r\n        {\r\n          label && <label className=\"form-element__label\"\r\n            onClick={() => this.state.textInput.current.focus()}>\r\n            {label}\r\n            {\r\n              required && <span className='required'>*</span>\r\n            }\r\n            </label>\r\n        }\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Input;\r\n\r\n","import React, { Component } from 'react';\r\nimport classNames from 'classnames';\r\n\r\nimport './Input.scss';\r\n\r\nclass Dropdown extends Component {\r\n  state = {\r\n    filled: false,\r\n    textInput: React.createRef(),\r\n    value: this.props.defaultValue || '',\r\n    title: '',\r\n  };\r\n\r\n  onChangeOption = (option) => {\r\n    const { value } = this.state;\r\n    if(option.value !== value){\r\n      this.setState({\r\n        value: option.value,\r\n        title: option.label,\r\n      });\r\n\r\n      const { name } = this.props;\r\n      this.props.onChangeData && this.props.onChangeData(name, option.value);\r\n    }\r\n  };\r\n\r\n  componentDidMount(){\r\n    const { value } = this.state;\r\n    const { options } = this.props;\r\n\r\n    const selectedOption = options.find((option) => option.value === value);\r\n    selectedOption && this.setState({title : selectedOption.label});\r\n  }\r\n  render() {\r\n    const { options, label,  name } = this.props;\r\n    const { value, title } = this.state;\r\n    const inputClass = {\r\n      filled: true,\r\n      'form-element__input': true,\r\n    };\r\n\r\n    return (\r\n      <div className=\"form-element\">\r\n        <input\r\n          className=\"hidden\"\r\n          type=\"text\"\r\n          name={name}\r\n          value={value}\r\n          onChange={(e) => this.onChange(e)}/>\r\n        <button className={classNames(inputClass)}>{title}</button>\r\n        <ul className=\"form-element__dropdown\">\r\n          {\r\n            options.map((option, index) => \r\n              <li key={index}\r\n                className={classNames({active: value === option.value})}\r\n                onMouseDown={() => this.onChangeOption(option)}>{option.label}</li>\r\n            )}\r\n        </ul>\r\n        <span className=\"icon-dropdown\"></span>\r\n        <label className=\"form-element__label\"\r\n         onClick={() => this.state.textInput.current.focus()}>{label}</label>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Dropdown;\r\n\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\n// import moment from 'moment';\r\n\r\nimport Input from '../../commonComponents/InputComponent/Input';\r\nimport Dropdown from '../../commonComponents/InputComponent/Dropdown';\r\n\r\nimport { updateFilter } from '../../actions/filterSort';\r\nimport { typeOptions, favoriteOptions, sortOptions } from '../../libs/constant';\r\n\r\nclass FilterContainer extends Component {\r\n  state = {\r\n    type: '',\r\n    date: '',\r\n    favorite: '',\r\n    sort: '',\r\n  };\r\n\r\n  onChangeValue = (name, value) => {\r\n    const { updateFilter } = this.props;\r\n\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n    updateFilter(name, value);\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      type,\r\n      date,\r\n      favorite,\r\n      sort,\r\n    } = this.state;\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-sm-6 col-md-3\">\r\n          <Dropdown options={typeOptions} label=\"Type\" name=\"type\"\r\n                    onChangeData={this.onChangeValue} value={type}/>\r\n        </div>\r\n        <div className=\"col-sm-6 col-md-3\">\r\n          <Input type=\"date\" label=\"Date\" name=\"date\" title=\"Date\"\r\n                 onChangeData={this.onChangeValue} value={date}/>\r\n        </div>\r\n        <div className=\"col-sm-6 col-md-3\">\r\n          <Dropdown options={favoriteOptions} label=\"Favorite\" name=\"favorite\"\r\n                    onChangeData={this.onChangeValue} value={favorite}/>\r\n        </div>\r\n        <div className=\"col-sm-6 col-md-3\">\r\n          <Dropdown options={sortOptions} label=\"Sort By\" name=\"sort\"\r\n                    onChangeData={this.onChangeValue} value={sort}/>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (\r\n  {\r\n    collection,\r\n    filter,\r\n  }) => ({\r\n  collection,\r\n  filter,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  updateFilter: (name, value) => dispatch(updateFilter(name, value)),\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(FilterContainer);","import { UPDATE_FILTER_SORT } from \"./types\";\r\n\r\nexport function updateFilter(name, value) {\r\n  return {\r\n    type: UPDATE_FILTER_SORT,\r\n    name,\r\n    value,\r\n  };\r\n}\r\n","import React, {Component} from 'react';\r\nimport classNames from 'classnames';\r\n\r\nimport Input from '../../commonComponents/InputComponent/Input';\r\nimport Dropdown from '../../commonComponents/InputComponent/Dropdown';\r\n\r\nimport './Modal.scss';\r\nimport Button from '../../commonComponents/ButtonComponent/Button';\r\n\r\nconst options = [\r\n  {\r\n    label: 'Video',\r\n    value: 'video',\r\n  }, {\r\n    label: 'Image',\r\n    value: 'image',\r\n  }\r\n];\r\n\r\nclass Modal extends Component {\r\n\r\n  onCloseModal = () => {\r\n    this.props.onCloseModal(false);\r\n  };\r\n\r\n  saveData = () => {\r\n    this.props.saveData();\r\n  };\r\n\r\n  onChangeValue = (name, value, inValid = false) => {\r\n    this.props.onChangeData(name, value, inValid);\r\n  };\r\n\r\n  render() {\r\n    const modalClass = {\r\n      'modal': true,\r\n      'modal-open': this.props.isOpen\r\n    };\r\n\r\n    const {data, modalTitle, buttonInfo, showInvalidField,} = this.props;\r\n\r\n    return (\r\n      <div className={classNames(modalClass)} tabIndex=\"-1\" role=\"dialog\">\r\n        {\r\n          data && <div className=\"modal-dialog modal-dialog--lg\" role=\"document\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">{modalTitle}</h5>\r\n                <Button props={{icon: \"close\", type: \"outline\"}}\r\n                        onClick={() => this.onCloseModal()}/>\r\n              </div>\r\n              <div className=\"modal-body\">\r\n                <Input type=\"input\" defaultValue={data.title} label=\"Title\" name=\"title\"\r\n                       onChangeData={this.onChangeValue}/>\r\n                <Input type=\"textarea\" defaultValue={data.description} label=\"Description\" name=\"description\"\r\n                       onChangeData={this.onChangeValue}/>\r\n                <Dropdown defaultValue={data.mediaType} label=\"Type\" options={options} name=\"mediaType\"\r\n                          onChangeData={this.onChangeValue}/>\r\n                <Input type=\"input\" defaultValue={data.preview} required={true}\r\n                       label=\"Link preview image url\" name=\"preview\"\r\n                       showInvalidField={showInvalidField}\r\n                       onChangeData={this.onChangeValue}/>\r\n                <Input type=\"input\" defaultValue={data.href} required={true}\r\n                       label=\"Link title url\" name=\"href\"\r\n                       showInvalidField={showInvalidField}\r\n                       onChangeData={this.onChangeValue}/>\r\n\r\n              </div>\r\n              <div className=\"modal-footer\">\r\n                <Button props={buttonInfo}\r\n                        onClick={this.saveData}/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Modal;","import React, { Component } from 'react';\r\nimport classNames from 'classnames';\r\n\r\nimport Button from '../../commonComponents/ButtonComponent/Button';\r\n\r\nimport './Modal.scss';\r\n\r\nclass ModalConfirm extends Component {\r\n\r\n  onCloseModal = () => {\r\n    this.props.onCloseModal();\r\n  };\r\n\r\n  removeItem = () => {\r\n    this.props.removeItem();\r\n  };\r\n\r\n  render() {\r\n    const modalClass = {\r\n      'modal': true,\r\n      'modal-open': this.props.isOpen\r\n    };\r\n    return (\r\n      <div className={classNames(modalClass)} tabIndex=\"-1\" role=\"dialog\">\r\n        <div className=\"modal-dialog modal-sm\" role=\"document\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              {/* <h5 className=\"modal-title\">Delete item</h5> */}\r\n              <Button props={{icon:\"close\", type:\"outline\", title:\"\"}}\r\n                      onClick={() => this.onCloseModal()}/>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <h4 className=\"modal-body__title\">Do you want to remove this item?</h4>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <Button props={{type:\"danger\", title:\"Remove\"}}\r\n                      onClick={this.removeItem}/>\r\n              <Button props={{type:\"default\", title:\"Cancel\"}}\r\n                      onClick={this.onCloseModal}/>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default ModalConfirm;","import React, {Component} from 'react';\r\nimport classNames from 'classnames';\r\n\r\nimport './Paging.scss';\r\n\r\nclass Paging extends Component {\r\n\r\n  gotoPage = (page) => {\r\n    this.props.gotoPage(page);\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      total,\r\n      currentPage,\r\n      pages = [],\r\n      lastPage,\r\n      itemPerPage = 0,\r\n    } = this.props;\r\n\r\n    const firstShowing = (currentPage - 1) * itemPerPage + 1;\r\n    const lastShowing = Math.min((firstShowing + itemPerPage - 1), total);\r\n\r\n    const pagingClass = {\r\n      pagination: true,\r\n      'justify-content-end': total > 0,\r\n    }\r\n    return (\r\n      <div className={classNames(pagingClass)}>\r\n        <div className=\"pagination__wrapper\">\r\n          {\r\n            total ? <>\r\n                <p className=\"pagination__desc\">Showing item from {firstShowing} - {lastShowing} of {total} item/s</p>\r\n                <ul className=\"pagination__number\">\r\n                  {\r\n                    currentPage !== 1 && <>\r\n                      <li className=\"pagination__item\">\r\n                        <a className=\"pagination__link\" aria-label=\"First\" href='javascript:void(0)'\r\n                           onClick={() => this.gotoPage(1)}\r\n                        > {'<<'}</a>\r\n                      </li>\r\n                      <li className=\"pagination__item\">\r\n                        <a className=\"pagination__link\" aria-label=\"Previous\" href='javascript:void(0)'\r\n                           onClick={() => this.gotoPage(currentPage - 1)}>{'<'}</a>\r\n                      </li>\r\n                    </>\r\n                  }\r\n                  {\r\n                    pages && pages.map((page, index) => <li\r\n                      className={classNames({'pagination__item': true, active: page === currentPage})}\r\n                      key={index}>\r\n                      <a className=\"pagination__link\" href='javascript:void(0)'\r\n                         disabled={page === currentPage}\r\n                         onClick={() => this.gotoPage(page)}>\r\n                        {page}</a>\r\n                    </li>)\r\n                  }\r\n                  {\r\n                    (currentPage !== lastPage) && <>\r\n                      <li>\r\n                        <a className=\"pagination__link\" href='javascript:void(0)'\r\n                           onClick={() => this.gotoPage(currentPage + 1)}>{'>'}</a>\r\n                      </li>\r\n                      <li>\r\n                        <a className=\"pagination__link\" href='javascript:void(0)'\r\n                           onClick={() => this.gotoPage(lastPage)}>{'>>'}</a>\r\n                      </li>\r\n                    </>\r\n                  }\r\n                </ul>\r\n              </>\r\n              : <p className=\"pagination__desc\">There no item to show</p>\r\n          }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Paging;","import {\r\n  UPDATE_COLLECTION,\r\n  TOGGLE_FAVORITE_COLLECTION,\r\n  DELETE_COLLECTION_ITEM,\r\n} from './types';\r\n\r\nexport function updateCollectionItem(id, item) {\r\n  return {\r\n    type: UPDATE_COLLECTION,\r\n    id,\r\n    item,\r\n  };\r\n}\r\n\r\nexport function toggleFavoriteCollectionItem(id) {\r\n  return {\r\n    type: TOGGLE_FAVORITE_COLLECTION,\r\n    id,\r\n  };\r\n}\r\n\r\nexport function removeCollectionItem(id) {\r\n  return {\r\n    type: DELETE_COLLECTION_ITEM,\r\n    id,\r\n  };\r\n}\r\n","import React, {Component} from 'react';\r\n\r\nimport {\r\n  Link,\r\n} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\n\r\nimport CollectionItem from '../../components/CollectionItemComponent/CollectionItem';\r\nimport Button from '../../commonComponents/ButtonComponent/Button';\r\nimport FilterContainer from '../FilterContainer/FilterContainer';\r\nimport Modal from '../../components/ModalComponent/Modal';\r\nimport ConfirmModal from '../../components/ModalComponent/ConfirmModal';\r\nimport Paging from \"../../commonComponents/PagingComponent/Paging\";\r\n\r\nimport {\r\n  toggleFavoriteCollectionItem,\r\n  removeCollectionItem,\r\n  updateCollectionItem\r\n} from '../../actions/collection';\r\n\r\nimport {\r\n  gotoPage,\r\n} from '../../actions/paging';\r\n\r\nimport {\r\n  getCollection,\r\n  generatePaging, getLastPage,\r\n} from \"../../libs/helpers\";\r\n\r\nimport './Collection.scss';\r\nimport {ITEM_PER_PAGE, ITEM_PER_PAGE_SEARCH} from \"../../libs/constant\";\r\n\r\nclass CollectionContainer extends Component {\r\n  state = {\r\n    isOpenConfirm: false,\r\n    isOpen: false,\r\n    itemToUpdate: null,\r\n    itemIdToRemove: null,\r\n    inValidField: false,\r\n    showInvalidField: false,\r\n  };\r\n\r\n  showConfirmToRemoveItem = (id) => {\r\n    this.setState({\r\n      isOpenConfirm: true,\r\n      itemIdToRemove: id,\r\n    })\r\n  };\r\n\r\n  removeItem = () => {\r\n    const {removeItem} = this.props;\r\n    const {itemIdToRemove} = this.state;\r\n\r\n    this.setState({\r\n      isOpenConfirm: false,\r\n      itemIdToRemove: null,\r\n    });\r\n    removeItem(itemIdToRemove);\r\n  };\r\n\r\n  editItemBeforeUpdate = (item) => {\r\n    this.setState({\r\n      isOpen: true,\r\n      itemToUpdate: {...item},\r\n    });\r\n  };\r\n\r\n  onCloseModal = () => {\r\n    this.setState({\r\n      isOpen: false,\r\n      itemToUpdate: null,\r\n    })\r\n  };\r\n\r\n  onCloseConfirmModal = () => {\r\n    this.setState({\r\n      isOpenConfirm: false,\r\n      itemIdToRemove: null,\r\n    });\r\n  };\r\n\r\n  updateCollectionItem = () => {\r\n    const {updateItemToCollection} = this.props;\r\n    const {itemToUpdate, inValidField} = this.state;\r\n\r\n    if(!inValidField){\r\n      updateItemToCollection({...itemToUpdate});\r\n      this.setState({\r\n        isOpen: false,\r\n        itemToUpdate: null,\r\n        showInvalidField: false,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        showInvalidField: inValidField,\r\n      });\r\n    }\r\n  };\r\n\r\n  onChangeValue = (name, value, inValid = false) => {\r\n    const {itemToUpdate} = this.state;\r\n    this.setState({\r\n      itemToUpdate: {\r\n        ...itemToUpdate,\r\n        [name]: value,\r\n      },\r\n      inValidField: inValid,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      collection,\r\n      toggleFavorite,\r\n      total,\r\n      paging: {\r\n        currentPage,\r\n        size,\r\n      },\r\n      gotoPage,\r\n    } = this.props;\r\n\r\n    const {\r\n      isOpen,\r\n      isOpenConfirm,\r\n      itemToUpdate,\r\n      showInvalidField,\r\n    } = this.state;\r\n\r\n    const paging = generatePaging(total, size, currentPage);\r\n    const lastPage = getLastPage(total, ITEM_PER_PAGE);\r\n\r\n    return (\r\n      <>\r\n        <div className=\"collection\">\r\n          <div className=\"grid\">\r\n            <div className=\"collection__header\">\r\n              <div className=\"row\">\r\n                <div className=\"col-sm-6\">\r\n                  <div className=\"collection__title\">NASA Collection</div>\r\n                </div>\r\n                <div className=\"col-sm-6\">\r\n                  <div className=\"text-right\">\r\n                    <Link to=\"/search-collection\">\r\n                      <Button props={{icon: \"add\", type: \"primary\", title: \"Add new item\"}}/>\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"collection__filter\">\r\n              <FilterContainer/>\r\n            </div>\r\n            <Paging total={total} pages={paging} currentPage={currentPage}\r\n                    lastPage={lastPage}\r\n                    itemPerPage={ITEM_PER_PAGE}\r\n                    gotoPage={gotoPage}/>\r\n            <div className=\"row\">\r\n              {\r\n                collection\r\n                && collection.map((collectionItem) =>\r\n                  <div key={collectionItem.id} className=\"col col-md-4\">\r\n                    <CollectionItem data={collectionItem}\r\n                                    toggleFavorite={toggleFavorite}\r\n                                    removeItem={this.showConfirmToRemoveItem}\r\n                                    editItem={() => this.editItemBeforeUpdate(collectionItem)}/>\r\n                  </div>\r\n                )\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Modal\r\n          onCloseModal={this.onCloseModal}\r\n          isOpen={isOpen}\r\n          data={itemToUpdate}\r\n          saveData={this.updateCollectionItem}\r\n          onChangeData={this.onChangeValue}\r\n          modalTitle=\"Edit\"\r\n          buttonInfo={{icon: 'check', title: 'Save', type: 'primary'}}\r\n          showInvalidField={showInvalidField}\r\n        />\r\n        <ConfirmModal\r\n          isOpen={isOpenConfirm}\r\n          onCloseModal={this.onCloseConfirmModal}\r\n          removeItem={this.removeItem}/>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (\r\n  {\r\n    collection,\r\n    filter,\r\n    paging,\r\n  }) => ({\r\n  ...getCollection(collection, paging, filter),\r\n  paging,\r\n  filter,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  toggleFavorite: (id) => dispatch(toggleFavoriteCollectionItem((id))),\r\n  removeItem: (id) => dispatch(removeCollectionItem(id)),\r\n  updateItemToCollection: (item) => dispatch(updateCollectionItem(item.id, item)),\r\n  gotoPage: (page) => dispatch(gotoPage(page)),\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(CollectionContainer);\r\n","import {PAGE_FIRST, PAGE_GOTO, PAGE_LAST, PAGE_NEXT, PAGE_PREVIOUS, PAGE_SIZE} from './types';\r\n\r\nexport function gotoPage(page) {\r\n  return {\r\n    type: PAGE_GOTO,\r\n    currentPage: page,\r\n  };\r\n}\r\n\r\nexport function nextPage() {\r\n  return {\r\n    type: PAGE_NEXT,\r\n  };\r\n}\r\n\r\nexport function prevPage() {\r\n  return {\r\n    type: PAGE_PREVIOUS,\r\n  };\r\n}\r\n\r\nexport function firstPage() {\r\n  return {\r\n    type: PAGE_FIRST,\r\n  };\r\n}\r\n\r\nexport function lastPage() {\r\n  return {\r\n    type: PAGE_LAST,\r\n  };\r\n}\r\n\r\nexport function setPageSize(size) {\r\n  return {\r\n    type: PAGE_SIZE,\r\n    size,\r\n  };\r\n}\r\n","import {divMod} from \"./helpers\";\r\nimport {ITEM_PER_PAGE_SEARCH, MAX_TOTAL_PAGE} from './constant';\r\n\r\nexport async function searchNasa(query, page = 1) {\r\n  if (!query) {\r\n    return {items: []};\r\n  }\r\n\r\n  const res = await fetch(`https://images-api.nasa.gov/search?q=${encodeURIComponent(query)}${page < 2 ? '' : `&page=${page}`}`);\r\n  const json = await res.json();\r\n\r\n  return {\r\n    items: json.collection.items.map(({href, data: [{nasa_id, title, media_type, date_created, description}], links}) => ({\r\n      id: nasa_id,\r\n      href,\r\n      title,\r\n      description,\r\n      mediaType: media_type,\r\n      preview: links && links.find((x) => x.rel === 'preview').href, // TODO audio type, video type place holder\r\n      createdAt: date_created,\r\n    })),\r\n    totalHits: json.collection.metadata.total_hits,\r\n  }\r\n}\r\n\r\nexport class NasaSearchPagingAdapter {\r\n  _items = {};\r\n  _size = ITEM_PER_PAGE_SEARCH;\r\n\r\n  constructor(query) {\r\n    this._query = query;\r\n  }\r\n\r\n  async getPage(page = 1) {\r\n    const {\r\n      start: pageStart,\r\n      pages: pageNeeded,\r\n    } = NasaSearchPagingAdapter.getPageNeeded(page, this._size);\r\n\r\n    for (let p of pageNeeded) {\r\n      if (this._items[p]) {\r\n        continue;\r\n      }\r\n\r\n      const {items, totalHits} = this._count && p > (this._count / 100 + 1) ? [] : await searchNasa(this._query, p);\r\n\r\n      this._count = this._count || Math.min(totalHits, MAX_TOTAL_PAGE);\r\n      this._items[p] = items;\r\n    }\r\n\r\n    return {\r\n      items: pageNeeded.reduce((a, p) => [...a, ...this._items[p]], []).slice(pageStart, pageStart + this._size),\r\n      totalHits: this._count,\r\n    };\r\n  }\r\n\r\n  static getPageNeeded(page, size, nasaSize = 100) {\r\n    const [nasaPage, nasaPageStart] = divMod((page - 1) * size, nasaSize);\r\n    const pages = [nasaPage + 1];\r\n\r\n    if (nasaPageStart > nasaSize - size) {\r\n      pages.push(nasaPage + 2);\r\n    }\r\n\r\n    return {\r\n      start: nasaPageStart,\r\n      pages,\r\n    };\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nimport Input from '../../commonComponents/InputComponent/Input';\r\nimport Button from '../../commonComponents/ButtonComponent/Button';\r\nimport CollectionItem from '../../components/CollectionItemComponent/CollectionItem';\r\nimport Modal from '../../components/ModalComponent/Modal';\r\nimport Paging from '../../commonComponents/PagingComponent/Paging';\r\nimport {NasaSearchPagingAdapter} from '../../libs/api';\r\n\r\nimport {generatePaging, getLastPage} from \"../../libs/helpers\";\r\nimport {ITEM_PER_PAGE_SEARCH} from '../../libs/constant';\r\nimport {updateCollectionItem} from '../../actions/collection';\r\n\r\nimport './Search.scss';\r\n\r\nclass SearchContainer extends Component {\r\n\r\n  state = {\r\n    resultItems: [],\r\n    collectionItemToAdd: null,\r\n    searching: false,\r\n    searchValue: '',\r\n    totalHits: '',\r\n    isOpen: false,\r\n    pages: [],\r\n    currentPage: 0,\r\n    inValidField: false,\r\n    showInvalidField: false,\r\n  };\r\n\r\n  searchData = async (value) => {\r\n    if (!value) {\r\n      this.setState({\r\n        searchValue: value,\r\n      });\r\n      return;\r\n    }\r\n    try {\r\n      this.setState({\r\n        searching: true,\r\n        searchValue: value,\r\n      });\r\n      this.nasaSearchAdapter = new NasaSearchPagingAdapter(value);\r\n\r\n      await this.gotoPage(1);\r\n    } catch (err) {\r\n      console.log('Search false ', err);\r\n    }\r\n  };\r\n\r\n  gotoPage = async (page) => {\r\n    try {\r\n      const {items, totalHits} = await this.nasaSearchAdapter.getPage(page);\r\n\r\n      const paging = generatePaging(totalHits, ITEM_PER_PAGE_SEARCH, page);\r\n\r\n      this.setState({\r\n        searching: false,\r\n        resultItems: items,\r\n        pages: paging,\r\n        currentPage: page,\r\n        totalHits,\r\n      });\r\n    } catch (e) {\r\n      alert(`ERROR: ${e.message}`);\r\n    }\r\n  };\r\n\r\n  editBeforeAddItem = (data) => {\r\n    this.setState({\r\n      collectionItemToAdd: data,\r\n      isOpen: true,\r\n    });\r\n  };\r\n\r\n  onCloseModal = () => {\r\n    this.setState({\r\n      isOpen: false,\r\n      collectionItemToAdd: null,\r\n    })\r\n  };\r\n\r\n  addCollectionItem = () => {\r\n    const {collectionItemToAdd, inValidField} = this.state;\r\n    const {addItemToCollection} = this.props;\r\n\r\n    if (!inValidField) {\r\n      addItemToCollection(collectionItemToAdd);\r\n\r\n      this.setState({\r\n        isOpen: false,\r\n        collectionItemToAdd: null,\r\n        showInvalidField: false,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        showInvalidField: inValidField,\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  onChangeValue = (name, value, inValid = false) => {\r\n    let collectionItemToAdd = {...this.state.collectionItemToAdd};\r\n    collectionItemToAdd[name] = value;\r\n    this.setState({collectionItemToAdd, inValidField: inValid,});\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      resultItems,\r\n      searching,\r\n      searchValue,\r\n      isOpen,\r\n      totalHits,\r\n      pages,\r\n      currentPage,\r\n      collectionItemToAdd,\r\n      showInvalidField,\r\n    } = this.state;\r\n\r\n    const lastPage = getLastPage(totalHits, ITEM_PER_PAGE_SEARCH);\r\n    return (\r\n      <>\r\n        <div className=\"grid\">\r\n          <div className=\"search\">\r\n            <div className=\"search__header\">\r\n              <Link to=\"/\">\r\n                <Button props={{icon: \"back\", title: \"Back to Collection\", type: \"primary-color\"}}/>\r\n              </Link>\r\n              <div className=\"search__title\">Search From NASA</div>\r\n              <div className=\"search__input\">\r\n                <Input type=\"input\" placeHolder=\"Type something to search...\" onChange={this.searchData}/>\r\n              </div>\r\n            </div>\r\n            <div className=\"search-result\">\r\n              {\r\n                searching && <p className=\"search-result__searching\">Searching...</p>\r\n              }\r\n              {\r\n                totalHits !== '' && !searching &&\r\n                <p className=\"search-result__searching\">{totalHits} result for \"{searchValue}\"</p>\r\n              }\r\n              {\r\n                totalHits ? <Paging total={totalHits} pages={pages} currentPage={currentPage}\r\n                                    lastPage={lastPage}\r\n                                    itemPerPage={ITEM_PER_PAGE_SEARCH}\r\n                                    gotoPage={this.gotoPage}/> : ''\r\n              }\r\n              <div className=\"row\">\r\n                {\r\n                  resultItems && resultItems.map((item) => <div key={item.id} className=\"col col-md-4\">\r\n                    <CollectionItem data={item} onAddItem={this.editBeforeAddItem} isAddNew={true}/>\r\n                  </div>)\r\n                }\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Modal\r\n          onCloseModal={this.onCloseModal}\r\n          isOpen={isOpen}\r\n          data={collectionItemToAdd}\r\n          saveData={this.addCollectionItem}\r\n          onChangeData={this.onChangeValue}\r\n          modalTitle=\"Add to collection\"\r\n          buttonInfo={{icon: 'check', title: 'Add to collection', type: 'primary'}}\r\n          showInvalidField={showInvalidField}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (\r\n  {\r\n    collection,\r\n  }) => ({\r\n  collection,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  addItemToCollection: (item) => dispatch(updateCollectionItem(item.id, item)),\r\n});\r\n\r\nexport default withRouter(connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(SearchContainer));\r\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport {\n  BrowserRouter,\n  Route\n  } from 'react-router-dom';\n\nimport CollectionContainer from './containers/CollectionContainer/CollectionContainer';\nimport SearchContainer from './containers/SearchCollectionContainer/SearchContainer';\n\nimport './App.scss';\n\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"container\">\n        <BrowserRouter basename=\"/nfq-test\">\n          <Route exact path=\"/\" component={CollectionContainer} />\n          <Route path=\"/search-collection\" component={SearchContainer}/>\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = () => ({\n})\n\nexport default connect(\n  mapStateToProps,\n)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from \"react-redux\";\n\nimport './index.css';\nimport store from './store';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>\n  , document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}